<!DOCTYPE html>
<html lang="fr">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta
      name="description"
      content="Partenaires du club de handball d'Aix-en-Savoie"
    />
    <meta
      name="keywords"
      content="handball, Aix-en-Savoie, partenaires, sponsors"
    />
    <title>Nos Partenaires - HBC Aix-en-savoie</title>
    <link rel="stylesheet" href="./src/styles.css" />
    <link rel="stylesheet" href="https://unpkg.com/aos@next/dist/aos.css" />
    <script src="main.js" type="module" defer></script>
    <link rel="icon" href="img/home/logo.png" type="image/png" />
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
      tailwind.config = {
        theme: {
          extend: {
            fontFamily: {
              mont: ["Montserrat", "sans-serif"],
              robo: ["Roboto", "sans-serif"],
            },
            colors: {
              "brand-orange": "#ff5722",
            },
          },
        },
      };
    </script>
    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;500;600;700&family=Roboto:wght@400;500;700&display=swap"
      rel="stylesheet"
    />
  </head>
  <body class="bg-zinc-950 w-screen overflow-x-hidden">
    <!-- Navigation -->
    <header class="w-full z-40 xl:px-8 bg-zinc-950">
      <div class="flex justify-between items-center px-4 xl:px-0 py-4">
        <!-- Logo et liens de gauche -->
        <div class="flex items-center gap-16">
          <a href="index.html" aria-label="Accueil" class="logo-container">
            <img
              class="w-12 md:w-24"
              src="img/home/logo.png"
              alt="Logo HBC Aix-en-Savoie"
            />
          </a>
          <div class="hidden xl:flex gap-8">
            <a
              href="form.html"
              class="font-mont font-bold text-white uppercase text-sm hover:text-orange-500 transition-colors"
              >Inscription</a
            >
            <a
              href="https://sports-services-conseils.fr/clubs/hbc-aix-en-savoie/"
              target="_blank"
              rel="noopener noreferrer"
              class="font-mont font-bold text-white uppercase text-sm hover:text-orange-500 transition-colors"
              >Boutique</a
            >
          </div>
        </div>
        <!-- Liens de navigation -->
        <div
          class="hidden xl:flex flex-row justify-around items-center gap-16 pr-24"
        >
          <a href="actus.html" class="nav-link">Nos actus</a>
          <a href="equipes.html" class="nav-link">Nos équipes</a>
          <a href="partner.html" class="nav-link underline">Nos partenaires</a>
          <a href="contact.php" class="nav-link">Contact</a>
        </div>
        <!-- Bouton menu mobile -->
        <button
          type="button"
          id="mobile_button"
          class="xl:hidden"
          aria-label="Menu"
          aria-expanded="false"
          aria-controls="nav_mobile"
        >
          <img src="img/home/boutton_menu.svg" class="w-8" alt="Icône menu" />
        </button>
      </div>
      <div
        id="nav_mobile"
        class="bg-orange-400 font-mont text-2xl font-bold text-center mt-8 hidden mobile-menu"
        aria-hidden="true"
      >
        <ul>
          <a href="form.html"
            ><li class="border-y-2 py-6 border-zinc-950">Inscription ➞</li></a
          >
          <a
            href="https://sports-services-conseils.fr/clubs/hbc-aix-en-savoie/"
            target="_blank"
            rel="noopener noreferrer"
            ><li class="border-b-2 py-6 border-zinc-950">Boutique ➞</li></a
          >
          <a href="actus.html"
            ><li class="border-b-2 py-6 border-zinc-950">Actualités ➞</li></a
          >
          <a href="equipes.html"
            ><li class="border-b-2 py-6 border-zinc-950">Équipes ➞</li></a
          >
          <a href="partner.html"
            ><li class="border-b-2 py-6 border-zinc-950">Partenaires ➞</li></a
          >
          <a href="contact.php"
            ><li class="border-b-2 py-6 border-zinc-950">Contact ➞</li></a
          >
        </ul>
      </div>
    </header>

    <main>
      <!-- Section Héro avec Animation -->
      <section class="relative h-[60vh] overflow-hidden bg-black">
        <div class="absolute inset-0 z-0">
          <img
            src="img/partners/partnership.jpg"
            alt="Partenariat sportif"
            class="w-full h-full object-cover opacity-50"
          />
          <div
            class="absolute inset-0 bg-gradient-to-b from-transparent to-zinc-950"
          ></div>
        </div>

        <div
          class="absolute inset-0 z-10 flex flex-col justify-center items-center text-center px-4"
        >
          <h1
            class="text-5xl md:text-7xl font-bold text-white mb-6 tracking-tight"
            data-aos="fade-down"
            data-aos-duration="800"
          >
            Nos <span class="text-orange-500">Partenaires</span>
          </h1>
          <p
            class="text-xl md:text-2xl text-gray-300 max-w-3xl"
            data-aos="fade-up"
            data-aos-duration="800"
            data-aos-delay="200"
          >
            Ensemble pour la passion du handball
          </p>

          <div class="mt-10" data-aos="fade-up" data-aos-delay="400">
            <a
              href="#partners-wall"
              class="px-8 py-4 bg-orange-500 rounded-full text-white font-bold hover:bg-orange-600 transition-all shadow-lg hover:shadow-orange-500/30"
            >
              Découvrir nos partenaires
            </a>
          </div>
        </div>
      </section>

      <!-- Présentation en chiffres -->
      <section class="py-20 bg-zinc-950 relative">
        <div class="max-w-7xl mx-auto px-4">
          <div class="grid grid-cols-2 md:grid-cols-4 gap-8">
            <div class="text-center" data-aos="fade-up" data-aos-delay="100">
              <div class="text-4xl md:text-5xl font-bold text-orange-500 mb-2">
                +30
              </div>
              <div class="text-gray-400">Partenaires engagés</div>
            </div>
            <div class="text-center" data-aos="fade-up" data-aos-delay="200">
              <div class="text-4xl md:text-5xl font-bold text-orange-500 mb-2">
                +10
              </div>
              <div class="text-gray-400">Années de fidélité</div>
            </div>
            <div class="text-center" data-aos="fade-up" data-aos-delay="300">
              <div class="text-4xl md:text-5xl font-bold text-orange-500 mb-2">
                +300
              </div>
              <div class="text-gray-400">Licenciés soutenus</div>
            </div>
            <div class="text-center" data-aos="fade-up" data-aos-delay="400">
              <div class="text-4xl md:text-5xl font-bold text-orange-500 mb-2">
                100%
              </div>
              <div class="text-gray-400">Engagement local</div>
            </div>
          </div>
        </div>
      </section>

      <!-- Partenaires en spotlight -->
      <section
        class="spotlight-partners py-24 bg-orange-500 relative overflow-hidden"
      >
        <div class="absolute inset-0 opacity-10">
          <img
            src="img/home/pattern-handball.png"
            alt=""
            class="w-full h-full object-cover"
          />
        </div>

        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 relative">
          <h2
            class="text-4xl md:text-5xl font-bold text-white text-center mb-16"
            data-aos="fade-up"
          >
            Partenaires Institutionnels
          </h2>

          <div class="grid grid-cols-1 md:grid-cols-3 gap-10">
            <!-- Les partenaires institutionnels seront injectés ici -->
          </div>
        </div>
      </section>

      <!-- Partenaires Majeurs -->
      <section class="py-24 bg-zinc-900 relative overflow-hidden">
        <div class="absolute inset-0 opacity-5">
          <img
            src="img/home/pattern-handball.png"
            alt=""
            class="w-full h-full object-cover"
          />
        </div>

        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 relative">
          <h2
            class="text-4xl md:text-5xl font-bold text-white text-center mb-16"
            data-aos="fade-up"
          >
            Partenaires Majeurs
          </h2>

          <div
            class="major-partners-grid grid grid-cols-1 md:grid-cols-3 gap-10"
          >
            <!-- Les partenaires majeurs seront injectés ici -->
          </div>
        </div>
      </section>

      <!-- Partenaires Principaux -->
      <section class="py-24 bg-zinc-950 relative overflow-hidden">
        <div class="absolute inset-0 opacity-5">
          <img
            src="img/home/pattern-handball.png"
            alt=""
            class="w-full h-full object-cover"
          />
        </div>

        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 relative">
          <h2
            class="text-4xl md:text-5xl font-bold text-white text-center mb-16"
            data-aos="fade-up"
          >
            Partenaires Principaux
          </h2>

          <div
            class="main-partners-grid grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-8"
          >
            <!-- Les partenaires principaux seront injectés ici -->
          </div>
        </div>
      </section>

      <!-- Partenaires Officiels -->
      <section class="py-20 bg-zinc-900 relative overflow-hidden">
        <div class="absolute inset-0 opacity-5">
          <img
            src="img/home/pattern-handball.png"
            alt=""
            class="w-full h-full object-cover"
          />
        </div>

        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 relative">
          <h2
            class="text-3xl md:text-4xl font-bold text-white text-center mb-12"
            data-aos="fade-up"
          >
            Partenaires Officiels
          </h2>

          <div
            class="official-partners-grid grid grid-cols-2 sm:grid-cols-4 md:grid-cols-5 lg:grid-cols-6 gap-6"
          >
            <!-- Les partenaires officiels seront injectés ici -->
          </div>
        </div>
      </section>

      <!-- Tous nos partenaires (Classement Alphabétique) -->
      <section id="partners-wall" class="py-24 bg-zinc-900">
        <div class="max-w-7xl mx-auto px-4">
          <h2
            class="text-4xl font-bold text-white text-center mb-8"
            data-aos="fade-up"
          >
            Tous Nos Partenaires
          </h2>

          <!-- Vue Alphabétique -->
          <div
            class="mb-12 text-center"
            data-aos="fade-up"
            data-aos-delay="100"
          >
            <p class="text-gray-300 mb-6">
              Découvrez tous nos partenaires classés par ordre alphabétique
            </p>
            <div
              class="alphabet-filter flex flex-wrap justify-center gap-2 mb-8"
            >
              <!-- Les lettres seront injectées ici -->
            </div>
          </div>

          <!-- Filtres par catégorie -->
          <div
            class="filter-buttons mb-12"
            data-aos="fade-up"
            data-aos-delay="100"
          >
            <button
              class="filter-btn bg-orange-500 text-white"
              data-category="all"
            >
              Tous
            </button>
            <button
              class="filter-btn bg-zinc-800 text-white"
              data-category="Institution"
            >
              Institutions
            </button>
            <button
              class="filter-btn bg-zinc-800 text-white"
              data-category="Équipementier"
            >
              Équipementiers
            </button>
            <button
              class="filter-btn bg-zinc-800 text-white"
              data-category="Média"
            >
              Médias
            </button>
            <button
              class="filter-btn bg-zinc-800 text-white"
              data-category="Santé"
            >
              Santé
            </button>
          </div>

          <!-- Liste alphabétique de partenaires -->
          <div id="alphabetical-partners" class="mt-10">
            <!-- Les sections alphabétiques seront injectées ici -->
          </div>
        </div>
      </section>

      <!-- Section Devenir Partenaire -->
      <section class="py-24 bg-zinc-950 relative overflow-hidden">
        <div class="absolute inset-0 opacity-5">
          <img
            src="img/home/pattern-handball.png"
            alt=""
            class="w-full h-full object-cover"
          />
        </div>

        <div class="max-w-5xl mx-auto px-4 relative">
          <div
            class="bg-orange-500 rounded-3xl overflow-hidden shadow-2xl"
            data-aos="fade-up"
          >
            <div class="p-12 md:p-16">
              <div class="text-center mb-12">
                <h2 class="text-4xl md:text-5xl font-bold text-white mb-6">
                  Devenez Partenaire
                </h2>
                <p class="text-xl text-white opacity-90 max-w-3xl mx-auto">
                  Rejoignez l'aventure du HBC Aix-en-Savoie et associez votre
                  image à un club ambitieux et dynamique.
                </p>
              </div>

              <div class="grid md:grid-cols-2 gap-12 items-center">
                <div>
                  <div class="space-y-6">
                    <div class="flex items-start">
                      <div class="bg-white rounded-full p-2 mt-1 mr-4">
                        <svg
                          xmlns="http://www.w3.org/2000/svg"
                          class="h-6 w-6 text-orange-500"
                          fill="none"
                          viewBox="0 0 24 24"
                          stroke="currentColor"
                        >
                          <path
                            stroke-linecap="round"
                            stroke-linejoin="round"
                            stroke-width="2"
                            d="M5 13l4 4L19 7"
                          />
                        </svg>
                      </div>
                      <div>
                        <h3 class="text-xl font-bold text-white mb-2">
                          Visibilité locale et régionale
                        </h3>
                        <p class="text-white opacity-80">
                          Votre marque visible auprès de notre communauté et
                          lors de nos événements sportifs.
                        </p>
                      </div>
                    </div>

                    <div class="flex items-start">
                      <div class="bg-white rounded-full p-2 mt-1 mr-4">
                        <svg
                          xmlns="http://www.w3.org/2000/svg"
                          class="h-6 w-6 text-orange-500"
                          fill="none"
                          viewBox="0 0 24 24"
                          stroke="currentColor"
                        >
                          <path
                            stroke-linecap="round"
                            stroke-linejoin="round"
                            stroke-width="2"
                            d="M5 13l4 4L19 7"
                          />
                        </svg>
                      </div>
                      <div>
                        <h3 class="text-xl font-bold text-white mb-2">
                          Avantages fiscaux
                        </h3>
                        <p class="text-white opacity-80">
                          Réduction fiscale jusqu'à 60% du montant de votre
                          participation.
                        </p>
                      </div>
                    </div>

                    <div class="flex items-start">
                      <div class="bg-white rounded-full p-2 mt-1 mr-4">
                        <svg
                          xmlns="http://www.w3.org/2000/svg"
                          class="h-6 w-6 text-orange-500"
                          fill="none"
                          viewBox="0 0 24 24"
                          stroke="currentColor"
                        >
                          <path
                            stroke-linecap="round"
                            stroke-linejoin="round"
                            stroke-width="2"
                            d="M5 13l4 4L19 7"
                          />
                        </svg>
                      </div>
                      <div>
                        <h3 class="text-xl font-bold text-white mb-2">
                          Engagement sociétal
                        </h3>
                        <p class="text-white opacity-80">
                          Participez au développement du sport et des valeurs
                          qu'il véhicule auprès des jeunes.
                        </p>
                      </div>
                    </div>
                  </div>
                </div>

                <div class="text-center">
                  <a
                    href="contact.php"
                    class="inline-block px-12 py-5 bg-white rounded-full text-orange-500 font-bold text-xl hover:bg-zinc-100 transform hover:scale-105 transition-all shadow-xl"
                  >
                    Nous contacter
                  </a>
                  <p class="text-white mt-6">
                    Notre équipe vous recontactera dans les plus brefs délais
                    pour échanger sur les possibilités de partenariat.
                  </p>
                </div>
              </div>
            </div>
          </div>
        </div>
      </section>
    </main>

    <footer class="bg-black text-white py-12">
      <div class="container mx-auto px-4">
        <div class="grid grid-cols-1 md:grid-cols-4 gap-8">
          <!-- About Section -->
          <div>
            <h3 class="text-lg font-bold mb-4">À propos</h3>
            <p class="text-gray-400">
              Le Handball Club d'Aix-en-Savoie est un club sportif familial
              fondé en 1973. Nous partageons les valeurs de respect, solidarité
              et passion pour le handball.
            </p>
          </div>

          <!-- Links Section -->
          <div>
            <h3 class="text-lg font-bold mb-4">Liens rapides</h3>
            <ul class="space-y-2">
              <li>
                <a
                  href="index.html"
                  class="text-gray-400 hover:text-white transition"
                  >Accueil</a
                >
              </li>
              <li>
                <a
                  href="actus.html"
                  class="text-gray-400 hover:text-white transition"
                  >Actualités</a
                >
              </li>
              <li>
                <a
                  href="equipes.html"
                  class="text-gray-400 hover:text-white transition"
                  >Nos équipes</a
                >
              </li>
              <li>
                <a
                  href="partner.html"
                  class="text-gray-400 hover:text-white transition"
                  >Partenaires</a
                >
              </li>
              <li>
                <a
                  href="contact.php"
                  class="text-gray-400 hover:text-white transition"
                  >Contact</a
                >
              </li>
            </ul>
          </div>

          <!-- Contact Section -->
          <div>
            <h3 class="text-lg font-bold mb-4">Contact</h3>
            <ul class="space-y-2 text-gray-400">
              <li>Gymnase des Prés Riants</li>
              <li>73100 Aix-les-Bains</li>
              <li>Téléphone: 04 79 35 XX XX</li>
              <li>Email: contact@hbc-aix-en-savoie.fr</li>
            </ul>
          </div>

          <!-- Social Media Section -->
          <div>
            <h3 class="text-lg font-bold mb-4">Réseaux sociaux</h3>
            <div class="flex space-x-4">
              <a
                href="https://www.facebook.com/hbcaixensavoie"
                target="_blank"
                rel="noopener noreferrer"
                class="text-gray-400 hover:text-white transition"
                >Facebook</a
              >
              <a
                href="https://www.instagram.com/hbcaixensavoie"
                target="_blank"
                rel="noopener noreferrer"
                class="text-gray-400 hover:text-white transition"
                >Instagram</a
              >
              <a
                href="https://www.youtube.com/channel/UCxxxxxx"
                target="_blank"
                rel="noopener noreferrer"
                class="text-gray-400 hover:text-white transition"
                >YouTube</a
              >
            </div>
          </div>
        </div>

        <!-- Bottom Bar -->
        <div
          class="border-t border-gray-800 mt-8 pt-8 text-center text-gray-400"
        >
          <p>&copy; 2024 HBC Aix-en-Savoie. Tous droits réservés.</p>
        </div>
      </div>
    </footer>

    <script src="https://unpkg.com/aos@next/dist/aos.js"></script>
    <script>
      AOS.init({
        duration: 800,
        once: true,
      });

      // Menu mobile
      const mobileButton = document.getElementById("mobile_button");
      const navMobile = document.getElementById("nav_mobile");

      if (mobileButton && navMobile) {
        mobileButton.addEventListener("click", function () {
          navMobile.classList.toggle("hidden");
          mobileButton.setAttribute(
            "aria-expanded",
            mobileButton.getAttribute("aria-expanded") === "false"
              ? "true"
              : "false"
          );
          navMobile.setAttribute(
            "aria-hidden",
            navMobile.getAttribute("aria-hidden") === "true" ? "false" : "true"
          );
        });
      }

      // Gestion des partenaires
      document.addEventListener("DOMContentLoaded", function () {
        // Éléments du DOM
        const alphabeticalPartnersContainer = document.getElementById(
          "alphabetical-partners"
        );
        const alphabetFilter = document.querySelector(".alphabet-filter");
        const filterBtns = document.querySelectorAll(".filter-btn");
        const institutionalPartnersContainer = document.querySelector(
          ".spotlight-partners .grid"
        );
        const majorPartnersContainer = document.querySelector(
          ".major-partners-grid"
        );
        const mainPartnersContainer = document.querySelector(
          ".main-partners-grid"
        );
        const officialPartnersContainer = document.querySelector(
          ".official-partners-grid"
        );

        // Variables
        let partners = [];
        let filteredPartners = [];
        let currentCategory = "all";
        let currentLetter = null;

        // Liste des lettres pour le filtre alphabétique
        const alphabet = "ABCDEFGHIJKLMNOPQRSTUVWXYZ".split("");

        // Charger les partenaires depuis le JSON
        async function loadPartners() {
          try {
            const response = await fetch("./data/partenaires.json");
            if (!response.ok)
              throw new Error("Erreur de chargement des partenaires");

            partners = await response.json();
            // Trier les partenaires par ordre alphabétique
            partners.sort((a, b) => a.nom.localeCompare(b.nom));
            filteredPartners = [...partners];

            setupAlphabetFilter();
            renderInstitutionalPartners();
            renderMajorPartners();
            renderMainPartners();
            renderOfficialPartners();
            renderAlphabeticalPartners();
            setupEventListeners();
          } catch (error) {
            console.error("Erreur:", error);
            // Afficher un message d'erreur aux utilisateurs
            if (alphabeticalPartnersContainer) {
              alphabeticalPartnersContainer.innerHTML = `
                <div class="w-full p-4 text-center text-white">
                  <p>Impossible de charger les partenaires. Veuillez réessayer plus tard.</p>
                </div>
              `;
            }
          }
        }

        // Configuration du filtre alphabétique
        function setupAlphabetFilter() {
          if (!alphabetFilter) return;

          // Ajouter bouton "Tous"
          const allBtn = document.createElement("button");
          allBtn.textContent = "Tous";
          allBtn.className =
            "px-4 py-2 bg-orange-500 text-white rounded-md hover:bg-orange-600 transition-colors";
          allBtn.addEventListener("click", () => {
            resetAlphabetFilter();
            filterPartnersByLetter(null);
          });
          alphabetFilter.appendChild(allBtn);

          // Ajouter # pour les nombres
          const hashBtn = document.createElement("button");
          hashBtn.textContent = "#";
          hashBtn.className =
            "px-4 py-2 bg-zinc-800 text-white rounded-md hover:bg-orange-600 transition-colors";
          hashBtn.addEventListener("click", () => {
            resetAlphabetFilter();
            hashBtn.classList.remove("bg-zinc-800");
            hashBtn.classList.add("bg-orange-500");
            filterPartnersBySpecial("number");
          });
          alphabetFilter.appendChild(hashBtn);

          // Ajouter les lettres de l'alphabet
          alphabet.forEach((letter) => {
            // Vérifier si des partenaires commencent par cette lettre
            const hasPartners = partners.some((partner) =>
              partner.nom.toUpperCase().startsWith(letter)
            );

            const btn = document.createElement("button");
            btn.textContent = letter;
            btn.className = `px-4 py-2 ${
              hasPartners ? "bg-zinc-800" : "bg-zinc-700 opacity-50"
            } text-white rounded-md hover:bg-orange-600 transition-colors`;

            if (hasPartners) {
              btn.addEventListener("click", () => {
                resetAlphabetFilter();
                btn.classList.remove("bg-zinc-800");
                btn.classList.add("bg-orange-500");
                filterPartnersByLetter(letter);
              });
            } else {
              btn.disabled = true;
            }

            alphabetFilter.appendChild(btn);
          });
        }

        // Réinitialiser le filtre alphabétique
        function resetAlphabetFilter() {
          const letterBtns = alphabetFilter.querySelectorAll("button");
          letterBtns.forEach((btn) => {
            if (btn.textContent === "Tous") {
              btn.classList.add("bg-orange-500");
              btn.classList.remove("bg-zinc-800");
            } else {
              btn.classList.remove("bg-orange-500");
              btn.classList.add("bg-zinc-800");
            }
          });
        }

        // Filtrer les partenaires par lettre
        function filterPartnersByLetter(letter) {
          currentLetter = letter;
          renderAlphabeticalPartners(letter);
        }

        // Filtrer les partenaires par caractères spéciaux (chiffres)
        function filterPartnersBySpecial(type) {
          if (type === "number") {
            currentLetter = "number";
            renderAlphabeticalPartners("number");
          }
        }

        // Rendre les partenaires institutionnels
        function renderInstitutionalPartners() {
          if (!institutionalPartnersContainer) return;

          const institutionalPartners = partners.filter(
            (p) => p.categorie === "Institution"
          );
          institutionalPartnersContainer.innerHTML = "";

          institutionalPartners.slice(0, 3).forEach((partner, index) => {
            const element = document.createElement("div");
            element.className =
              "bg-white rounded-xl shadow-lg overflow-hidden transform transition-all duration-300 hover:scale-105 hover:shadow-xl";
            element.setAttribute("data-aos", "fade-up");
            element.setAttribute("data-aos-delay", (index + 1) * 100);

            element.innerHTML = `
              <div class="p-8 flex items-center justify-center h-56">
                <img src="${partner.logo}" alt="${partner.nom}" class="max-h-32 object-contain" />
              </div>
              <div class="bg-zinc-900 p-6 text-center">
                <h3 class="text-xl font-bold text-white">${partner.nom}</h3>
              </div>
            `;

            institutionalPartnersContainer.appendChild(element);
          });
        }

        // Rendre les partenaires majeurs
        function renderMajorPartners() {
          if (!majorPartnersContainer) return;

          const majeurs = partners.filter((p) => p.partenaire_majeur);
          majorPartnersContainer.innerHTML = "";

          majeurs.forEach((partner, index) => {
            const element = document.createElement("div");
            element.className =
              "bg-white rounded-xl shadow-lg overflow-hidden transform transition-all duration-300 hover:scale-105 hover:shadow-xl";
            element.setAttribute("data-aos", "fade-up");
            element.setAttribute("data-aos-delay", ((index % 3) + 1) * 100);

            element.innerHTML = `
              <div class="p-8 flex items-center justify-center h-56">
                <img src="${partner.logo}" alt="${partner.nom}" class="max-h-32 object-contain" />
              </div>
              <div class="bg-zinc-900 p-6">
                <h3 class="text-xl font-bold text-white text-center">${partner.nom}</h3>
                <p class="text-gray-400 mt-2 text-sm">${partner.description}</p>
              </div>
            `;

            majorPartnersContainer.appendChild(element);
          });
        }

        // Rendre les partenaires principaux
        function renderMainPartners() {
          if (!mainPartnersContainer) return;

          // Sélectionner les partenaires qui ne sont ni majeurs ni institutionnels
          const mainPartners = partners.filter(
            (p) =>
              !p.partenaire_majeur &&
              p.categorie !== "Institution" &&
              ["Banque", "Équipementier", "Transport", "Santé"].includes(
                p.categorie
              )
          );

          mainPartnersContainer.innerHTML = "";

          mainPartners.forEach((partner, index) => {
            const element = document.createElement("div");
            element.className =
              "partner-card bg-white rounded-lg p-4 flex flex-col items-center";
            element.setAttribute("data-aos", "fade-up");
            element.setAttribute("data-aos-delay", ((index % 5) + 1) * 50);

            element.innerHTML = `
              <div class="h-28 flex items-center justify-center mb-3">
                <img src="${partner.logo}" alt="${partner.nom}" class="max-h-full max-w-full object-contain" />
              </div>
              <h3 class="text-center font-semibold text-sm">${partner.nom}</h3>
            `;

            mainPartnersContainer.appendChild(element);
          });
        }

        // Rendre les partenaires officiels
        function renderOfficialPartners() {
          if (!officialPartnersContainer) return;

          // Sélectionner les autres partenaires
          const officialPartners = partners.filter(
            (p) =>
              !p.partenaire_majeur &&
              p.categorie !== "Institution" &&
              !["Banque", "Équipementier", "Transport", "Santé"].includes(
                p.categorie
              )
          );

          officialPartnersContainer.innerHTML = "";

          officialPartners.forEach((partner, index) => {
            const element = document.createElement("div");
            element.className =
              "bg-white rounded-lg p-3 flex items-center justify-center h-24";
            element.setAttribute("data-aos", "fade-up");
            element.setAttribute("data-aos-delay", ((index % 6) + 1) * 30);

            element.innerHTML = `
              <img src="${partner.logo}" alt="${partner.nom}" class="max-h-16 max-w-full object-contain" title="${partner.nom}" />
            `;

            officialPartnersContainer.appendChild(element);
          });
        }

        // Filtrer les partenaires par catégorie
        function filterPartners(category) {
          currentCategory = category;
          renderAlphabeticalPartners(currentLetter);
        }

        // Rendre l'organisation alphabétique des partenaires
        function renderAlphabeticalPartners(filterLetter = null) {
          if (!alphabeticalPartnersContainer) return;

          alphabeticalPartnersContainer.innerHTML = "";

          // Filtrer selon la catégorie sélectionnée
          let partnersToShow =
            currentCategory === "all"
              ? [...partners]
              : partners.filter((p) => p.categorie === currentCategory);

          // Grouper les partenaires par première lettre
          const partnersByLetter = {};
          const numberPartners = [];

          // Initialiser les lettres
          alphabet.forEach((letter) => {
            partnersByLetter[letter] = [];
          });

          // Grouper les partenaires
          partnersToShow.forEach((partner) => {
            const firstChar = partner.nom.charAt(0).toUpperCase();
            if (firstChar >= "0" && firstChar <= "9") {
              numberPartners.push(partner);
            } else if (alphabet.includes(firstChar)) {
              partnersByLetter[firstChar].push(partner);
            }
          });

          // Si on filtre par lettre
          if (filterLetter) {
            if (filterLetter === "number") {
              // Afficher seulement les partenaires commençant par un chiffre
              if (numberPartners.length > 0) {
                renderAlphabeticalSection("#", numberPartners);
              } else {
                alphabeticalPartnersContainer.innerHTML = `
                  <div class="text-center text-gray-400 py-10">
                    <p>Aucun partenaire ne commence par un chiffre dans cette catégorie.</p>
                  </div>
                `;
              }
            } else {
              // Afficher seulement les partenaires commençant par la lettre sélectionnée
              const letterPartners = partnersByLetter[filterLetter];
              if (letterPartners.length > 0) {
                renderAlphabeticalSection(filterLetter, letterPartners);
              } else {
                alphabeticalPartnersContainer.innerHTML = `
                  <div class="text-center text-gray-400 py-10">
                    <p>Aucun partenaire ne commence par la lettre ${filterLetter} dans cette catégorie.</p>
                  </div>
                `;
              }
            }
          } else {
            // Afficher tous les partenaires groupés par lettre

            // D'abord les chiffres
            if (numberPartners.length > 0) {
              renderAlphabeticalSection("#", numberPartners);
            }

            // Puis les lettres
            alphabet.forEach((letter) => {
              const letterPartners = partnersByLetter[letter];
              if (letterPartners.length > 0) {
                renderAlphabeticalSection(letter, letterPartners);
              }
            });

            if (alphabeticalPartnersContainer.innerHTML === "") {
              alphabeticalPartnersContainer.innerHTML = `
                <div class="text-center text-gray-400 py-10">
                  <p>Aucun partenaire trouvé dans cette catégorie.</p>
                </div>
              `;
            }
          }
        }

        // Rendre une section alphabétique
        function renderAlphabeticalSection(letter, partners) {
          const section = document.createElement("div");
          section.className = "mb-16";
          section.setAttribute("data-aos", "fade-up");

          const letterHeader = document.createElement("h3");
          letterHeader.className =
            "text-3xl font-bold text-orange-500 mb-6 pb-2 border-b border-zinc-800";
          letterHeader.textContent = letter;

          section.appendChild(letterHeader);

          const partnersGrid = document.createElement("div");
          partnersGrid.className =
            "grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-6";

          partners.forEach((partner) => {
            const partnerCard = document.createElement("div");
            partnerCard.className =
              "bg-zinc-800 rounded-lg p-4 hover:bg-zinc-700 transition-colors";

            // Vérifier si l'URL du site est valide
            const siteUrl =
              partner.site && partner.site !== "#" ? partner.site : null;
            const siteLink = siteUrl
              ? `<a href="${siteUrl}" target="_blank" class="text-orange-500 hover:text-orange-400 mt-2 inline-block text-sm font-semibold">Visiter le site</a>`
              : "";

            partnerCard.innerHTML = `
              <div class="bg-white rounded-lg p-4 flex items-center justify-center h-28 mb-4">
                <img src="${partner.logo}" alt="${partner.nom}" class="max-h-20 max-w-full object-contain" />
              </div>
              <h4 class="text-white font-semibold">${partner.nom}</h4>
              <span class="text-xs text-orange-400">${partner.categorie}</span>
              <p class="text-gray-400 text-sm mt-2">${partner.description}</p>
              ${siteLink}
            `;

            partnersGrid.appendChild(partnerCard);
          });

          section.appendChild(partnersGrid);
          alphabeticalPartnersContainer.appendChild(section);
        }

        // Configurer les écouteurs d'événements
        function setupEventListeners() {
          // Filtres
          filterBtns.forEach((btn) => {
            btn.addEventListener("click", function () {
              // Mettre à jour l'état actif
              filterBtns.forEach((b) => {
                b.classList.remove("bg-orange-500");
                b.classList.add("bg-zinc-800");
              });

              this.classList.remove("bg-zinc-800");
              this.classList.add("bg-orange-500");

              // Filtrer les partenaires
              const category = this.getAttribute("data-category");
              filterPartners(category);
            });
          });
        }

        // Initialiser
        loadPartners();
      });
    </script>
  </body>
</html>
